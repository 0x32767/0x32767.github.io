<!DOCTYPE html>
<html lang="en">
  <head>
    <title>[[Reisen]] On github</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    <h1>[[Reisen]]</h1>
    <p>
      Hello I am [[reisen]], I am a programmer; I do things like:
      <ul>
        <li>General programming</li>
        <li>Reverse engineering</li>
        <li>Language developement</li>
        <li>Ethical hacking</li>
      </ul>
    </p>
    <hr>
    <div id="projects"></div>
    <hr>
    <div id="project_info"></div>
  </body>
  <script>
    fetch("projects.json").then(dat => dat.json()).then((data) => { // create cards
      for (card of data) {
        let html = document.createElement("div");
        html.className = "project_card";
        html.id = card.id;

        let title=document.createElement("h3");
        title.className = "project_title";
        title.innerText = card.title;
        html.appendChild(title)


        let link = document.createElement("a");
        link.href = card.url;
        
        html.appendChild(document.createElement("br"))
    
        let img = document.createElement("img");
        img.className = "project_thumbnail";
        img.src = card.img;
        img.alt = `"${card.img}"`;
        link.appendChild(img)

        html.appendChild(link)
        
        
        html.appendChild(document.createElement("br"))
        
        let details = document.createElement("b");
        details.innerText = "More Project Details";
        details.className = "see-project-details";
        html.appendChild(details);

        html.appendChild(document.createElement("br"))
        
        let brief_container = document.createElement("div")
        brief_container.className = "brief_container";

        let brief = document.createElement("b")
        brief.className = "project_brief";
        brief.innerText = card.brief;
        brief_container.appendChild(brief);

        html.appendChild(brief_container);

        document.getElementById("projects").appendChild(html);
      }
    }).then(() => { // event listeners
      for (element of document.getElementsByClassName("see-project-details"))
      {
        element.addEventListener("click", (event) => {
          fetch(`/project-info/${event.srcElement.parentElement.id}.html`).then(res => res.text()).then((data) => {
            document.getElementById("project_info").innerHTML = data;
            document.getElementById("project_info").scrollIntoView();
          });
        })
      }}
    )
  </script>
</html>
